(function(e){function t(t){for(var n,c,i=t[0],s=t[1],u=t[2],d=0,f=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,c=1;c<r.length;c++){var s=r[c];0!==a[s]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},o=[];function c(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2d0d36a4":"a10ca460"}[e]+".js"}function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r=a[e];if(0!==r)if(r)t.push(r[2]);else{var n=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=n);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=c(e);var u=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(d);var r=a[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",u.name="ChunkLoadError",u.type=n,u.request=o,r[1](u)}a[e]=void 0}};var d=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/list-order/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var l=u;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-main",[r("router-view")],1)],1)},o=[],c={name:"App"},i=c,s=r("2877"),u=r("6544"),d=r.n(u),l=r("7496"),f=r("f6c4"),p=Object(s["a"])(i,a,o,!1,null,null,null),v=p.exports;d()(p,{VApp:l["a"],VMain:f["a"]});var h=r("9483");Object(h["a"])("".concat("/list-order/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});r("d3b7"),r("3ca3"),r("ddb0");var m=r("8c4f"),g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("router-link",{staticClass:"elevation-2 px-4 py-2 green white--text text-uppercase",attrs:{to:"/add-order",tag:"button"}},[e._v(" add order ")]),r("v-col",e._l(e.arrOrders,(function(t,n){return r("CardOrders",{key:e.generateKey(n,t.active),attrs:{id:n,idOrder:t.id,prodId:t.productId,count:t.count,status:t.statusId,active:t.active,confirm:t.confirm,delivery:t.delivery}})})),1)],1)},O=[],b=r("5530"),w=(r("99af"),r("2f62")),x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"px-2 py-2 my-2"},[r("v-row",[r("v-col",{staticClass:"col-3"},[r("v-img",{attrs:{height:"370",src:e.arrProducts[e.idxProd()].photoUrl}})],1),r("v-col",{staticClass:"col-5"},[e.active?e.active?r("select",{directives:[{name:"model",rawName:"v-model",value:e.productName,expression:"productName"}],staticClass:"input",attrs:{name:"product"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.productName=t.target.multiple?r:r[0]},function(t){return e.changeProd(t,e.id)}]}},e._l(e.arrProducts,(function(t){return r("option",{key:t.id,domProps:{value:t.name}},[e._v(e._s(t.name))])})),0):e._e():r("v-card-title",[e._v(" "+e._s(e.arrProducts[e.idxProd()].name)+" ")]),r("v-card-text",[r("p",[e._v("Цена "+e._s("$"+e.arrProducts[e.idxProd()].price))]),e.active?e.active?r("input",{directives:[{name:"model",rawName:"v-model",value:e.newCount,expression:"newCount"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.newCount},on:{input:function(t){t.target.composing||(e.newCount=t.target.value)}}}):e._e():r("p",[e._v("Колличество "+e._s(e.count)+" шт.")]),e.active?e.active?r("p",[e._v("Сумма "+e._s("$"+e.arrProducts[e.idxProd()].price*e.newCount))]):e._e():r("p",[e._v("Сумма "+e._s("$"+e.arrProducts[e.idxProd()].price*e.count))])])],1),r("v-col",{staticClass:"col-3"},[r("v-card-text",[e._v(" Статус заказа: "+e._s(e.statusChange())+" ")]),e.active?e.active?r("div",[r("v-btn",{on:{click:function(t){return e.saveChange()}}},[e._v("Сохранить")]),r("v-btn",{staticClass:"ml-2",on:{click:function(t){return e.parseLocalSt(e.idOrder)}}},[e._v("Отмена")])],1):e._e():r("div",[r("v-btn",{on:{click:function(t){return e.changeActive(e.id)}}},[e._v("Изменить")])],1),r("v-btn",{staticClass:"my-2",on:{click:function(t){return e.confirmDelete(e.idOrder)}}},[e._v("Удалить")]),e.confirm?r("TheConfirmation",[r("p",[e._v("Вы уверены, что хотите удалить заказ?")]),r("v-btn",{on:{click:function(t){return e.orderDelete(e.idOrder)}}},[e._v("Да")]),r("v-btn",{on:{click:function(t){return e.confirmDelete(e.idOrder)}}},[e._v("Отмена")])],1):e._e(),e.delivery?r("TheConfirmation",[r("div",{staticClass:"app"},[r("v-btn",{staticClass:"btn",attrs:{icon:""},on:{click:function(t){return e.closeMessage(e.idOrder)}}},[r("v-icon",{attrs:{right:""}},[e._v("mdi-close-circle")])],1),r("p",[e._v(' Заказ успешно отменен и в скором времени деньги за оплату товара вернуться на Ваш счет, но в связи с тем, что у заказа был статус "'+e._s(e.statusChange())+'" мы вынужденны вычесть стоимость доставки. За дополнительной информацией обращайтесь в нашу тех поддержку по номеру телефона '),r("a",{attrs:{href:"tel:+80635555555"}},[e._v("+38(063)555-55-55")])])],1)]):e._e()],1)],1)],1)},y=[],_=(r("c740"),r("7db0"),r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("dialog",{attrs:{open:""}},[e._t("default")],2)}),P=[],j=(r("cdd4"),{}),S=Object(s["a"])(j,_,P,!1,null,"308aa19a",null),C=S.exports,k={name:"CardOrders",components:{TheConfirmation:C},data:function(){return{statusOrder:{},newCount:null,productName:null,editOrder:{id:null,newProdId:null,statusId:null,count:null}}},props:["prodId","count","status","active","id","idOrder","confirm","delivery"],computed:Object(w["c"])(["arrProducts","arrStatus"]),methods:Object(b["a"])(Object(b["a"])({},Object(w["b"])(["changeActive","changeCount","changeSave","parseLocalSt","changeProd","orderDelete","confirmDelete","closeMessage"])),{},{idxProd:function(){var e=this,t=this.arrProducts.findIndex((function(t){return t.id===e.prodId}));return t},statusChange:function(){var e=this,t=this.arrStatus.find((function(t){return t.id===e.status}));return this.statusOrder=Object.assign(t),this.statusOrder.name},changeProd:function(e,t){this.$store.dispatch("changeProd",{e:e,id:t})},saveChange:function(){var e=this,t=this.arrProducts.find((function(t){return t.name===e.productName})),r=Object.assign(t),n=r.id;this.editOrder={id:this.idOrder,productId:n,statusId:this.status,count:+this.newCount},this.changeSave(this.editOrder)}})},A=k,I=(r("d0bf"),r("8336")),N=r("b0af"),F=r("99d9"),T=r("62ad"),D=r("132d"),R=r("adda"),V=r("0fd9"),L=Object(s["a"])(A,x,y,!1,null,null,null),M=L.exports;d()(L,{VBtn:I["a"],VCard:N["a"],VCardText:F["a"],VCardTitle:F["b"],VCol:T["a"],VIcon:D["a"],VImg:R["a"],VRow:V["a"]});var $={name:"Home",components:{CardOrders:M},mounted:function(){this.arrOrders.length<1&&this.ordersFetch()},computed:Object(w["c"])(["arrOrders"]),methods:Object(b["a"])(Object(b["a"])({},Object(w["b"])(["ordersFetch","productFetch","allFetch"])),{},{generateKey:function(e,t){var r="".concat(e," - ").concat(toString(t));return r}})},E=$,J=r("a523"),U=Object(s["a"])(E,g,O,!1,null,null,null),q=U.exports;d()(U,{VCol:T["a"],VContainer:J["a"]}),n["a"].use(m["a"]);var B=[{path:"/",name:"Home",component:q},{path:"/add-order",name:"AddOrder",component:function(){return r.e("chunk-2d0d36a4").then(r.bind(null,"5d54"))}}],H=new m["a"]({routes:B}),K=H,z=r("1da1");r("96cf"),r("a434"),r("e9c4");n["a"].use(w["a"]);var G=new w["a"].Store({state:{urlOrders:"https://webtest.it.ua/testApp/api/orders",arrOrders:[],urlProducts:"https://webtest.it.ua/testApp/api/products",arrProducts:[],urlStatus:"https://webtest.it.ua/testApp/api/statuses",arrStatus:[],changeObj:{},urlUpdate:"https://webtest.it.ua/testApp/api/orders/update",urlAdd:"https://webtest.it.ua/testApp/api/orders/add",urlDelete:"https://webtest.it.ua/testApp/api/orders/delete/"},getters:{arrOrders:function(e){return e.arrOrders},arrProducts:function(e){return e.arrProducts},arrStatus:function(e){return e.arrStatus}},mutations:{ordersFetch:function(e,t){e.arrOrders=t},statusFetch:function(e,t){e.arrStatus=t},addProp:function(e){for(var t=0;t<e.arrOrders.length;t++)e.arrOrders[t].active=!1,e.arrOrders[t].confirm=!1,e.arrOrders[t].delivery=!1},productFetch:function(e,t){e.arrProducts=t},changeActive:function(e,t){var r=e.arrOrders.find((function(e,r){return r===t})),n=Object.assign(r);n.active=!n.active,e.arrOrders.splice(t,1,n)},changeSave:function(e,t){var r=e.arrOrders.findIndex((function(e){return e.id===t.id}));e.arrOrders.splice(r,1,t)},saveLocalSt:function(e){var t=JSON.stringify(e.arrOrders);localStorage.setItem("arrOrders",t)},parseLocalSt:function(e,t){if(localStorage.getItem("arrOrders"))try{var r=JSON.parse(localStorage.getItem("arrOrders")),n=r.find((function(e){return e.id===t})),a=e.arrOrders.findIndex((function(e){return e.id===t})),o=Object.assign(n);e.arrOrders.splice(a,1,o)}catch(c){localStorage.removeItem("arrOrders")}},changeProd:function(e,t){var r=t.e,n=t.id,a=e.arrProducts.find((function(e){return e.name===r.target.value})),o=Object.assign(a),c=e.arrOrders.find((function(e,t){return t===n}));c.productId=o.id},orderNewAdd:function(e,t){e.arrOrders.unshift(t)},orderDelete:function(e,t){var r=t.result,n=t.id;if(5===r.statusId||6===r.statusId){var a=e.arrOrders.find((function(e){return e.id===n}));a.confirm=!a.confirm,a.delivery=!a.delivery}else{var o=e.arrOrders.findIndex((function(e){return e.id===n}));e.arrOrders.splice(o,1)}},confirmDelete:function(e,t){var r=e.arrOrders.find((function(e){return e.id===t})),n=e.arrOrders.findIndex((function(e){return e.id===t}));r.confirm=!r.confirm;var a=JSON.parse(JSON.stringify(r));e.arrOrders.splice(n,1,a)},closeMessage:function(e,t){var r=e.arrOrders.findIndex((function(e){return e.id===t}));e.arrOrders.splice(r,1)}},actions:{ordersFetch:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var r,n,a,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n=e.dispatch,a=e.state,t.next=3,n("statusFetch");case 3:return t.next=5,n("productFetch");case 5:return t.next=7,fetch(a.urlOrders);case 7:return o=t.sent,t.next=10,o.json();case 10:return c=t.sent,r("ordersFetch",c),t.next=14,n("addProp");case 14:n("saveLocalSt");case 15:case"end":return t.stop()}}),t)})))()},statusFetch:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var r,n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n=e.state,t.next=3,fetch(n.urlStatus);case 3:return a=t.sent,t.next=6,a.json();case 6:o=t.sent,r("statusFetch",o);case 8:case"end":return t.stop()}}),t)})))()},productFetch:function(e){return Object(z["a"])(regeneratorRuntime.mark((function t(){var r,n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n=e.state,t.next=3,fetch(n.urlProducts);case 3:return a=t.sent,t.next=6,a.json();case 6:o=t.sent,r("productFetch",o);case 8:case"end":return t.stop()}}),t)})))()},addProp:function(e){e.commit("addProp")},saveLocalSt:function(e){e.commit("saveLocalSt")},parseLocalSt:function(e,t){e.commit("parseLocalSt",t)},changeActive:function(e,t){e.commit("changeActive",t)},changeProd:function(e,t){var r=t.e,n=t.id;e.commit("changeProd",{e:r,id:n})},changeSave:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function r(){var n,a,o,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a=e.state,r.next=3,fetch(a.urlUpdate,{method:"POST",headers:{"Content-Type":"application/json;charser=utf-8"},body:JSON.stringify(t)});case 3:return o=r.sent,r.next=6,o.json();case 6:c=r.sent,n("changeSave",c);case 8:case"end":return r.stop()}}),r)})))()},orderNewAdd:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function r(){var n,a,o,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a=e.state,r.next=3,fetch(a.urlAdd,{method:"POST",headers:{"Content-Type":"application/json;charser=utf-8"},body:JSON.stringify(t)});case 3:return o=r.sent,r.next=6,o.json();case 6:c=r.sent,n("orderNewAdd",c);case 8:case"end":return r.stop()}}),r)})))()},orderDelete:function(e,t){return Object(z["a"])(regeneratorRuntime.mark((function r(){var n,a,o,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.commit,a=e.state,r.next=3,fetch(a.urlDelete+t,{method:"POST",headers:{"Content-Type":"application/json;charser=utf-8"}});case 3:return o=r.sent,r.next=6,o.json();case 6:c=r.sent,n("orderDelete",{result:c,id:t});case 8:case"end":return r.stop()}}),r)})))()},confirmDelete:function(e,t){e.commit("confirmDelete",t)},closeMessage:function(e,t){e.commit("closeMessage",t)}},modules:{}}),Q=r("f309");n["a"].use(Q["a"]);var W=new Q["a"]({});n["a"].config.productionTip=!1,new n["a"]({router:K,store:G,vuetify:W,render:function(e){return e(v)}}).$mount("#app")},caf4:function(e,t,r){},cdd4:function(e,t,r){"use strict";r("faf3")},d0bf:function(e,t,r){"use strict";r("caf4")},faf3:function(e,t,r){}});
//# sourceMappingURL=app.205341ff.js.map